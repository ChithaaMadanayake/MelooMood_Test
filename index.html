<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
  <link rel="icon" href="{{ url_for('static', filename='images/logo.jpg') }}" type="image/jpeg">
  <title>MeloMood | Where Feelings Sound Better</title>  
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}" />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&family=Quicksand&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <style>
    /* ðŸŒŠ Intro Page Styles */
      html {
        scroll-behavior: smooth;
      }
      .intro-section {
        position: relative;
        height: 100vh;
        width: 100%;
        justify-content: center;
        align-items: center;
        text-align: center;
        overflow: hidden;
      }

      .intro-section video {
        position: absolute;
        top: 0;
        left: 0;
        height: 100%;
        width: 100%;
        object-fit: cover;
        z-index: -3;
      }

      /* Gradient overlay */
      .intro-section::after {
        content: '';
        position: absolute;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: linear-gradient(to bottom right, rgba(0,0,0,0.6), rgba(15,15,60,0.9));
        z-index: -2;
      }

      /* Floating music icons */
      .floating-icons i {
        position: absolute;
        color: rgba(0, 204, 255, 0.3);
        font-size: 30px;
        animation: float 8s infinite ease-in-out;
        pointer-events: none;
      }

      .floating-icons i:nth-child(1) { top: 20%; left: 10%; animation-delay: 0s; }
      .floating-icons i:nth-child(2) { top: 30%; left: 80%; animation-delay: 2s; }
      .floating-icons i:nth-child(3) { top: 60%; left: 20%; animation-delay: 4s; }
      .floating-icons i:nth-child(4) { top: 75%; left: 70%; animation-delay: 6s; }
      .floating-icons i:nth-child(5) { top: 50%; left: 50%; animation-delay: 1s; }

      @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0); opacity: 0.3; }
        50% { transform: translateY(-30px) rotate(20deg); opacity: 0.8; }
      }

      .intro-content {
        z-index: 1;
        padding: 40px 35px;
        border-radius: 20px;
        backdrop-filter: blur(12px);
        background: rgba(0, 0, 0, 0.3);
        border: 2px solid rgba(0, 204, 255, 0.3);
        box-shadow: 0 0 15px rgba(0, 204, 255, 0.3);
        animation: zoomIn 1s ease;
      }

      .intro-content h1 {
        font-size: 3.2em;
        margin-bottom: 15px;
        color: #00ccff;
        text-shadow: 0 0 12px #00ccff80;
      }

      .intro-content p {
        font-size: 1.2em;
        color: #e0e0e0;
        line-height: 1.6;
      }

      .typing-text {
        color: #ffffff;
        font-size: 1.1em;
        margin-top: 15px;
        font-style: italic;
        border-right: 2px solid #00ccff;
        white-space: nowrap;
        overflow: hidden;
        width: 0;
        animation: typing 4s steps(50, end) forwards, blink 0.75s infinite;
      }

      @keyframes typing {
        to { width: 100%; }
      }

      @keyframes blink {
        50% { border-color: transparent; }
      }

      .intro-btn {
        margin-top: 25px;
        padding: 14px 36px;
        font-size: 1.1em;
        font-weight: 600;
        background: linear-gradient(145deg, #00ccff, #0066ff);
        border: none;
        border-radius: 30px;
        color: white;
        cursor: pointer;
        box-shadow: 0 4px 20px rgba(0, 204, 255, 0.3);
        transition: all 0.3s ease;
      }

      .intro-btn:hover {
        background: linear-gradient(145deg, #0099cc, #0040cc);
        box-shadow: 0 6px 25px rgba(0, 153, 204, 0.6);
      }

      @keyframes zoomIn {
        from {
          transform: scale(0.95);
          opacity: 0;
        }
        to {
          transform: scale(1);
          opacity: 1;
        }
      }

      #main-section {
        display: none;
      }

      #intro {
        opacity: 1;
        transition: opacity 1s ease;
      }
    </style>

</head>
<body>

<!-- ðŸŒŠ Splash Screen -->
<div id="splash-screen">
  <video autoplay muted>
    <source src="{{ url_for('static', filename='splash.mp4') }}" type="video/mp4">
  </video>
</div>

<!-- ðŸŒŒ Particles Background -->
<canvas id="particles-bg"></canvas>

<!-- ðŸš€ Intro Section (First Page) -->
<section class="intro-section" id="intro">
  <div class="floating-icons">
    <i class="fas fa-music"></i>
    <i class="fas fa-headphones-alt"></i>
    <i class="fas fa-play-circle"></i>
    <i class="fas fa-heartbeat"></i>
    <i class="fas fa-wave-square"></i>
  </div>
  
  <video autoplay muted loop>
    <source src="{{ url_for('static', filename='bg_01.mp4') }}" type="video/mp4">
  </video>
  <div class="intro-content">
    <h1>Feel, Listen, Connect.</h1><br>
    <p>Your emotions are powerful, and with MeloMood, they come alive in sound. Powered by AI and your webcam, 
      it tunes into your feelings and creates the perfect playlist for your moodâ€”helping you feel seen, understood, and connected.</p><br><br><br>
    <p>Whether youâ€™re celebrating a joyful moment or navigating through a tough time, MeloMood is your personal soundtrack companion. It adapts with you, ensuring the music you hear mirrors your journey, lifting your spirits, 
      or offering comfort when you need it most. It's not just musicâ€”it's a reflection of you."</p><br>
    <button class="intro-btn" id="getStartedBtn">Get Started</button><br><br>
    <div class="typing-text">â™« Powered by AI. Tuned to You.</div>

  </div>
</section>

<!-- ðŸŽµ Main App Section (Second Page) -->
<section id="main-section" style="display: none;">
  <div class="ui-container">
    <h1>MeloMood</h1>
    <p class="subtitle">Your emotion-powered music buddy ðŸŽ§</p>

    <div class="cam-bubble">
      <video id="circle-video" autoplay loop muted playsinline>
        <source id="circle-source" src="{{ url_for('static', filename='circle1.mp4') }}" type="video/mp4" />
      </video>
      <video id="video" autoplay playsinline style="display: none;"></video>
      <canvas id="canvas" style="display:none;"></canvas>
    </div>

    <div class="btn-container">
      <button id="startWebcam" class="btn-glow">Start Webcam</button>
      <button id="captureButton" class="btn-glow" style="display:none;">Detect Emotion</button>
    </div>

    <div id="emotion-display" class="emotion-output"></div>

    <div class="player-bar">
      <audio id="music-player" controls style="display:none;" autoplay>
        <source id="music-source" src="" type="audio/mp3" />
      </audio>
    </div>
  </div>
</section>

<!-- ðŸ“œ Footer -->
<footer class="footer">
  <p>&copy; 2025 MeloMood | All rights reserved.</p>
</footer>
<script src="{{ url_for('static', filename='script.js') }}"></script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
<script>
  const getStartedBtn = document.getElementById("getStartedBtn");
  const intro = document.getElementById("intro");
  const main = document.getElementById("main-section");

  getStartedBtn.addEventListener("click", (e) => {
    e.preventDefault();

    // 1. Fade out intro
    intro.style.transition = "opacity 1s ease";
    intro.style.opacity = "0";

    // 2. Show main-section after small delay
    setTimeout(() => {
      intro.style.display = "none";
      main.style.display = "block";
      main.scrollIntoView({ behavior: "smooth" });
    }, 1000); // matches the 1s fade
  });
</script>



</body>
</html>
